<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Para mi Amor</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; }
        #info {
            position: absolute; top: 15%; width: 100%; text-align: center;
            pointer-events: none; z-index: 1; font-family: 'Segoe UI', sans-serif;
            color: white; font-size: 1rem; text-transform: uppercase; letter-spacing: 2px;
            text-shadow: 0 0 10px #fff; opacity: 0.9;
        }
        #modal {
            display: none; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(15, 15, 25, 0.9);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            padding: 25px; border-radius: 20px; border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center; width: 85%; max-width: 350px;
            box-shadow: 0 0 60px rgba(255, 100, 150, 0.3); z-index: 100;
        }
        #modal img { width: 100%; border-radius: 12px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.5); }
        #modal p { font-size: 1.2rem; color: #eee; margin-bottom: 25px; font-style: italic; }
        #closeBtn {
            background: white; color: black; border: none; padding: 10px 30px;
            border-radius: 50px; cursor: pointer; font-weight: bold; font-size: 1rem;
        }
    </style>
</head>
<body>

    <div id="info">Toca los planetas... y también el Sol ☀️</div>

    <div id="modal">
        <img id="modal-img" src="" alt="Foto">
        <p id="modal-text"></p>
        <button id="closeBtn">Seguir viendo</button>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

    <script>
        // --- ESCENA ---
        const scene = new THREE.Scene();
        // Fondo oscuro profundo (azul muy oscuro, casi negro) para elegancia
        scene.background = new THREE.Color(0x050510);
        // Niebla para que las estrellas lejanas se desvanezcan suavemente
        scene.fog = new THREE.FogExp2(0x050510, 0.002);

        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 2000);
        
        // Ajuste para celular
        if (window.innerWidth < 600) {
            camera.position.set(0, 80, 160); 
        } else {
            camera.position.set(0, 60, 120);
        }

        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.body.appendChild(renderer.domElement);

        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.autoRotate = true;
        controls.autoRotateSpeed = 0.5; // Rotación suave

        // --- ILUMINACIÓN ---
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6); 
        scene.add(ambientLight);
        const sunLight = new THREE.PointLight(0xffaa00, 2.5, 500);
        sunLight.position.set(0, 0, 0);
        scene.add(sunLight);

        // --- ESTRELLAS GENERADAS POR CÓDIGO (ESTO NO FALLA NUNCA) ---
        const starsGeo = new THREE.BufferGeometry();
        const starsCount = 10000; // 10,000 estrellas
        const posArray = new Float32Array(starsCount * 3);
        
        for(let i = 0; i < starsCount * 3; i++) {
            // Posición aleatoria en un espacio grande
            posArray[i] = (Math.random() - 0.5) * 2000;
        }
        
        starsGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const starsMat = new THREE.PointsMaterial({
            size: 0.8, 
            color: 0xffffff, 
            transparent: true, 
            opacity: 0.8,
            sizeAttenuation: true
        });
        const starMesh = new THREE.Points(starsGeo, starsMat);
        scene.add(starMesh);


        // --- EL SOL ---
        const sunGeo = new THREE.SphereGeometry(12, 32, 32);
        const sunMat = new THREE.MeshBasicMaterial({ color: 0xffdd55 });
        const sun = new THREE.Mesh(sunGeo, sunMat);
        
        // ---> ¡PEGA TU LINK DE YOUTUBE AQUÍ OTRA VEZ! <---
        sun.userData = { 
            isSun: true, 
            link: "https://youtu.be/1qmp6VBWGVI?si=OckiV8QL0cQWJC0c" 
        };
        scene.add(sun);

        // Resplandor del Sol (Hecho con código, sin imagen externa)
        const haloGeo = new THREE.SphereGeometry(14, 32, 32);
        const haloMat = new THREE.MeshBasicMaterial({ 
            color: 0xffaa00, 
            transparent: true, 
            opacity: 0.25, 
            side: THREE.BackSide 
        });
        const sunHalo = new THREE.Mesh(haloGeo, haloMat);
        sun.add(sunHalo);


        // --- TUS PLANETAS Y FRASES ---
        const planetsData = [
            { name: "Mercurio", color: 0xAAAAAA, size: 4.0, dist: 30, img: 'foto1.jpg', msg: "Te amo demasiado mi niña" },
            { name: "Venus",    color: 0xFFCC88, size: 4.5, dist: 45, img: 'foto2.jpg', msg: "Me haces demasiado feliz mi bb" },
            { name: "Tierra",   color: 0x2255FF, size: 4.8, dist: 65, img: 'foto3.jpg', msg: "Soy tuyoooo bb, completamente tuyo" },
            { name: "Marte",    color: 0xFF4422, size: 4.2, dist: 85, img: 'foto4.jpg', msg: "Dare todo de mi por ti mi bb" },
            { name: "Júpiter",  color: 0xCC9966, size: 9.0, dist: 120, img: 'foto5.jpg', msg: "Me encantas mi celosa" },
            { name: "Saturno",  color: 0xEEDD88, size: 7.5, dist: 155, ring: true, img: 'foto6.jpg', msg: "Sin ti mi vida seria miserable" },
            { name: "Urano",    color: 0x44FFFF, size: 6.0, dist: 190, img: 'foto7.jpg', msg: "Siempre estare para ti mi niña" },
            { name: "Neptuno",  color: 0x3344CC, size: 6.0, dist: 220, img: 'foto8.jpg', msg: "Quiero que nuestro amor dure por siempre" }
        ];

        const planets = [];

        planetsData.forEach(data => {
            const group = new THREE.Group();
            
            // Planetas brillantes estilo cristal
            const material = new THREE.MeshPhysicalMaterial({
                color: data.color, metalness: 0.3, roughness: 0.2, clearcoat: 1.0
            });
            const mesh = new THREE.Mesh(new THREE.SphereGeometry(data.size, 32, 32), material);
            mesh.userData = { img: data.img, msg: data.msg, isPlanet: true };
            group.add(mesh);

            if(data.ring) {
                const ring = new THREE.Mesh(
                    new THREE.RingGeometry(data.size*1.4, data.size*2.2, 64),
                    new THREE.MeshBasicMaterial({ color: 0xCCBB99, side: THREE.DoubleSide, transparent: true, opacity: 0.5 })
                );
                ring.rotation.x = Math.PI/2;
                ring.userData = mesh.userData;
                group.add(ring);
            }

            const orbit = new THREE.Mesh(
                new THREE.RingGeometry(data.dist-0.3, data.dist+0.3, 128),
                new THREE.MeshBasicMaterial({ color: 0xffffff, side: THREE.DoubleSide, opacity: 0.08, transparent: true })
            );
            orbit.rotation.x = Math.PI/2;
            scene.add(orbit);

            scene.add(group);
            planets.push({ group: group, mesh: mesh, dist: data.dist, angle: Math.random()*10, speed: 0.002 });
        });

        // --- INTERACCIÓN ---
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();
        const modal = document.getElementById('modal');
        const modalImg = document.getElementById('modal-img');
        const modalText = document.getElementById('modal-text');
        const closeBtn = document.getElementById('closeBtn');
        let isPaused = false;

        function onInteract(event) {
            if (isPaused && event.target.id !== 'closeBtn') return;
            let x = event.changedTouches ? event.changedTouches[0].clientX : event.clientX;
            let y = event.changedTouches ? event.changedTouches[0].clientY : event.clientY;
            
            mouse.x = (x / window.innerWidth) * 2 - 1;
            mouse.y = -(y / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(scene.children, true);

            for (let i = 0; i < intersects.length; i++) {
                const data = intersects[i].object.userData;
                if (data.isSun) {
                    window.open(data.link, '_blank');
                    break;
                }
                if (data.isPlanet) {
                    showModal(data);
                    break;
                }
            }
        }

        window.addEventListener('touchstart', onInteract, {passive: false});
        window.addEventListener('click', onInteract);

        function showModal(data) {
            isPaused = true;
            controls.autoRotate = false;
            modalImg.src = data.img;
            modalText.textContent = data.msg;
            modal.style.display = 'block';
        }

        closeBtn.addEventListener('click', () => {
            isPaused = false;
            controls.autoRotate = true;
            modal.style.display = 'none';
        });

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            if (!isPaused) {
                // Rotación leve de estrellas
                starMesh.rotation.y -= 0.0002;
                planets.forEach(p => {
                    p.angle += p.speed;
                    p.group.position.x = Math.cos(p.angle) * p.dist;
                    p.group.position.z = Math.sin(p.angle) * p.dist;
                    p.mesh.rotation.y += 0.01;
                });
            }
            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
